"use strict";var _createClass=function(){function a(b,f){for(var h,g=0;g<f.length;g++)h=f[g],h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(b,h.key,h)}return function(b,f,g){return f&&a(b.prototype,f),g&&a(b,g),b}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var __decorate=function(a,b,f,g){var l,h=arguments.length,j=3>h?b:null===g?g=Object.getOwnPropertyDescriptor(b,f):g;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)j=Reflect.decorate(a,b,f,g);else for(var m=a.length-1;0<=m;m--)(l=a[m])&&(j=(3>h?l(j):3<h?l(b,f,j):l(b,f))||j);return 3<h&&j&&Object.defineProperty(b,f,j),j},__metadata=function(a,b){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},__awaiter=function(a,b,f,g){return new(f||(f=Promise))(function(h,j){function l(o){try{n(g.next(o))}catch(p){j(p)}}function m(o){try{n(g["throw"](o))}catch(p){j(p)}}function n(o){o.done?h(o.value):new f(function(p){p(o.value)}).then(l,m)}n((g=g.apply(a,b)).next())})},core_1=require("@angular/core"),content_1=require("ui/content"),errisy_ui_1=require("errisy-ui"),admin_client_1=require("admin/admin.client"),LoginComponent=function(a){function b(f,g,h){_classCallCheck(this,b);var j=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,f,g));return j.changeDetectorRef=f,j.parent=g,j.admin=h,j.FormTitle="Login",j.RegisterEntity={},j.RetrieveEntity={Username:"",Mobile:"",ToLogin:"To Login",ToRegister:"Regist New"},j}return _inherits(b,a),_createClass(b,[{key:"onRegister",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:case"end":return j.stop();}},g,this)}))}},{key:"onRetreivePassword",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:case"end":return j.stop();}},g,this)}))}},{key:"toRetrieveExtends",value:function(){return __awaiter(this,void 0,void 0,regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:this.RetrieveEntity.Username="",this.RetrieveEntity.Mobile="04";case 2:case"end":return j.stop();}},g,this)}))}},{key:"LoginView",get:function(){return[[errisy_ui_1.fields.text("Username","Username").attr({maxlength:30}).event("keydown",errisy_ui_1.filters,errisy_ui_1.filters.letters).event("keydown",this,this.onLoginByKeyDown)],[errisy_ui_1.fields.password("Password","Password").event("keydown",this,this.onLoginByKeyDown)],errisy_ui_1.rows.buttons(errisy_ui_1.fields.submit("Login").event("click",this,this.onLogin))]}},{key:"RegisterView",get:function(){return[]}},{key:"RetrieveView",get:function(){return[[errisy_ui_1.fields.text("Username","Username").css({"ime-mode":"inactive"}).attr({maxlength:30}).verify(errisy_ui_1.verifictions.required)],[errisy_ui_1.fields.text("Mobile","Mobile Number").attr({pattern:"/04d{8}/"}).event("keydown",errisy_ui_1.filters,errisy_ui_1.filters.numbers).verify(errisy_ui_1.verifictions.fixedLength(10))],errisy_ui_1.rows.buttons(errisy_ui_1.fields.submit("Retreive Password").event("click",this,this.onRetreivePassword)),errisy_ui_1.rows.link(errisy_ui_1.fields.click("ToLogin","Back to Login").event("click",this,this.toLogin),errisy_ui_1.fields.click("ToRegister","Regist New").event("click",this,this.toRegister))]}}]),b}(content_1.LoginComponentModel);LoginComponent=__decorate([core_1.Component({selector:"admin-login",templateUrl:"/management/login.component.html",providers:[admin_client_1.AdminCore]}),__metadata("design:paramtypes",[core_1.ChangeDetectorRef,content_1.ContentControl,admin_client_1.AdminCore])],LoginComponent),exports.LoginComponent=LoginComponent;