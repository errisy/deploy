"use strict";class IDDiffers{constructor(a){this.dict={},this.arr=a,this.arr.forEach(b=>{this.dict[b._id]=b})}clear(){this.arr=[],this.dict={}}diff(a){let b=[],c=[],d={},e=[];return a.forEach(f=>{this.dict[f._id]||b.push(f),d[f._id]=f}),this.arr.forEach(f=>{d[f._id]?e.push(f):(c.push(f),delete this.dict[f._id])}),c.forEach(f=>{delete this.dict[f._id]}),b.forEach(f=>{this.dict[f._id]=f}),{added:b,removed:c,retained:e}}}exports.IDDiffers=IDDiffers;