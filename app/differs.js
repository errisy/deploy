"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var IDDiffers=function(){function a(b){var c=this;_classCallCheck(this,a),this.dict={},this.arr=b,this.arr.forEach(function(d){c.dict[d._id]=d})}return _createClass(a,[{key:"clear",value:function(){this.arr=[],this.dict={}}},{key:"diff",value:function(c){var d=this,e=[],f=[],g={},h=[];return c.forEach(function(j){d.dict[j._id]||e.push(j),g[j._id]=j}),this.arr.forEach(function(j){g[j._id]?h.push(j):(f.push(j),delete d.dict[j._id])}),f.forEach(function(j){delete d.dict[j._id]}),e.forEach(function(j){d.dict[j._id]=j}),{added:e,removed:f,retained:h}}}]),a}();exports.IDDiffers=IDDiffers;