"use strict";var __decorate=this&&this.__decorate||function(e,f,g,h){var m,j=arguments.length,l=3>j?f:null===h?h=Object.getOwnPropertyDescriptor(f,g):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,f,g,h);else for(var n=e.length-1;0<=n;n--)(m=e[n])&&(l=(3>j?m(l):3<j?m(f,g,l):m(f,g))||l);return 3<j&&l&&Object.defineProperty(f,g,l),l},__metadata=this&&this.__metadata||function(e,f){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,f)};const core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser");require("errisy-string");const util=require("errisy-util");let DateTimePipe=class{transform(f){let g=new Date(f);return`${g.getFullYear()}-${(g.getMonth()+1+"").padLeft(2,"0")}-${(g.getDate()+"").padLeft(2,"0")} ${(g.getHours()+"").padLeft(2,"0")}:${(g.getMinutes()+"").padLeft(2,"0")}`}};DateTimePipe=__decorate([core_1.Pipe({name:"datetime12"}),__metadata("design:paramtypes",[])],DateTimePipe),exports.DateTimePipe=DateTimePipe;let WeekdayPipe=class{transform(f){let g=new Date(f);return util.dayOfWeek(g.getDay())}};WeekdayPipe=__decorate([core_1.Pipe({name:"weekday"}),__metadata("design:paramtypes",[])],WeekdayPipe),exports.WeekdayPipe=WeekdayPipe;let ArrayFilterPipe=class{transform(f,g,h){if(!f||!Array.isArray(f))return[];if(!h)return f;let j=h.split(/\s+/).filter(l=>0<l.length).map(l=>new RegExp(l,"ig"));return f.filter(l=>{if(!l[g])return!1;let m=l[g];return j.some(n=>{return n.lastIndex=void 0,n.test(m)})})}};ArrayFilterPipe=__decorate([core_1.Pipe({name:"filter"}),__metadata("design:paramtypes",[])],ArrayFilterPipe),exports.ArrayFilterPipe=ArrayFilterPipe;let WidthFilterPipe=class{transform(f){if(!Array.isArray(f))return"";let g=f.sort((h,j)=>Math.sign(j.value-h.value)).find(h=>window.innerWidth>=h.value);return g?g.name:""}};WidthFilterPipe=__decorate([core_1.Pipe({name:"windowwidth",pure:!1}),__metadata("design:paramtypes",[])],WidthFilterPipe),exports.WidthFilterPipe=WidthFilterPipe;let InArray=class{transform(f,g){return!!Array.isArray(g)&&g.some(h=>h==f)}};InArray=__decorate([core_1.Pipe({name:"in",pure:!1}),__metadata("design:paramtypes",[])],InArray),exports.InArray=InArray;let NotInArray=class{transform(f,g){return!!Array.isArray(g)&&g.every(h=>h!=f)}};NotInArray=__decorate([core_1.Pipe({name:"nin",pure:!1}),__metadata("design:paramtypes",[])],NotInArray),exports.NotInArray=NotInArray;let FormatAddress=class{transform(f){if(!f)return"Unknow Adress";let g=[];return f.BuildingDetail&&g.push(f.BuildingDetail),f.StreetNumber&&f.Street?g.push(`${f.StreetNumber} ${f.Street}`):f.StreetNumber?g.push(f.StreetNumber):f.Street&&g.push(f.Street),f.Suburb&&g.push(f.Suburb),f.State&&f.Postcode?g.push(`${f.State} ${f.Postcode}`):f.State?g.push(f.State):f.Postcode&&g.push(f.Postcode),g.join(", ")}};FormatAddress=__decorate([core_1.Pipe({name:"address"}),__metadata("design:paramtypes",[])],FormatAddress),exports.FormatAddress=FormatAddress;let StringsJoin=class{transform(f){return Array.isArray(f)?f.join(", "):""}};StringsJoin=__decorate([core_1.Pipe({name:"join"}),__metadata("design:paramtypes",[])],StringsJoin),exports.StringsJoin=StringsJoin;let SMSFilter=class{constructor(f){this.domSanitizer=f}transform(f){return f?this.domSanitizer.bypassSecurityTrustUrl(`sms:${f}`):""}};SMSFilter=__decorate([core_1.Pipe({name:"sms"}),__metadata("design:paramtypes",[platform_browser_1.DomSanitizer])],SMSFilter),exports.SMSFilter=SMSFilter;let BackgroundImageFilter=class{constructor(f){this.domSanitizer=f}transform(f){return f?this.domSanitizer.bypassSecurityTrustStyle(`url("${f}"`):""}};BackgroundImageFilter=__decorate([core_1.Pipe({name:"backgroundimage"}),__metadata("design:paramtypes",[platform_browser_1.DomSanitizer])],BackgroundImageFilter),exports.BackgroundImageFilter=BackgroundImageFilter;let EachMemberFilter=class{transform(f){if(!f||"object"!=typeof f)return[];let g=[];for(let h in f)g.push(f[h]);return g}};EachMemberFilter=__decorate([core_1.Pipe({name:"each",pure:!0}),__metadata("design:paramtypes",[])],EachMemberFilter),exports.EachMemberFilter=EachMemberFilter;let RealEstatePriceFilter=class{transform(f){switch(f.PriceStrategy){case"Exact Price":return`$${f.Price}`;case"Plus":return`$${f.Price} Plus`;case"Offers Over":return`Offers over $${f.Price}`;case"POA":return`POA`;case"Submit Your Offer":return`Submit Your Offer`;case"Auction":return`Auction on ${f.AuctionDate}`;default:return"Negotiation";}}};RealEstatePriceFilter=__decorate([core_1.Pipe({name:"realestateprice"}),__metadata("design:paramtypes",[])],RealEstatePriceFilter),exports.RealEstatePriceFilter=RealEstatePriceFilter;let PrivateSharedFilter=class{transform(f){return"Private"===f?"P":"Shared"===f?"S":void 0}};PrivateSharedFilter=__decorate([core_1.Pipe({name:"privateshared"}),__metadata("design:paramtypes",[])],PrivateSharedFilter),exports.PrivateSharedFilter=PrivateSharedFilter;class SKUtil{static findHoursForToday(e,f){let g=util.date(),h=util.weekday();return SKUtil.findHoursForDay(g,h,e,f)}static findHoursForDay(e,f,g,h){let j=g&&g.find(l=>l.Day==e);return j?{Day:e,Weekday:f,Closed:!Array.isArray(j.OpeningHour)||0==j.OpeningHour.length,OpeningHour:j.OpeningHour}:h?{Day:e,Weekday:f,Closed:!Array.isArray(h[f])||0==h[f].length,OpeningHour:h[f]}:{Day:e,Weekday:f,Closed:!0,OpeningHour:[]}}static find7DayHours(e,f){let g=[];for(let h=0;7>h;h++){let j=util.date(h),l=util.weekday(h);g.push(SKUtil.findHoursForDay(j,l,e,f))}return g}static find15DayOpenHours(e,f){let g=[];for(let h=0;15>h;h++){let j=util.date(h),l=util.weekday(h),m=SKUtil.findHoursForDay(j,l,e,f);m.Closed||g.push(m)}return g}}exports.SKUtil=SKUtil;let InspectionHoursFilter=class{transform(f,g){let h=util.date(),j=util.weekday();return"number"==typeof g?SKUtil.find15DayOpenHours(f.ScheduledInspectionHours,f.RegularInspectionHours).slice(0,g):SKUtil.find15DayOpenHours(f.ScheduledInspectionHours,f.RegularInspectionHours)}};InspectionHoursFilter=__decorate([core_1.Pipe({name:"inspectionhours",pure:!1}),__metadata("design:paramtypes",[])],InspectionHoursFilter),exports.InspectionHoursFilter=InspectionHoursFilter;let OpeningHoursFilter=class{transform(f,g){let h=util.date(),j=util.weekday();return"number"==typeof g?SKUtil.find7DayHours(f.ScheduledHours,f.OpeningHours).slice(0,g):SKUtil.find7DayHours(f.ScheduledHours,f.OpeningHours)}};OpeningHoursFilter=__decorate([core_1.Pipe({name:"openninghours",pure:!1}),__metadata("design:paramtypes",[])],OpeningHoursFilter),exports.OpeningHoursFilter=OpeningHoursFilter;