"use strict";var _createClass=function(){function e(f,g){for(var j,h=0;h<g.length;h++)j=g[h],j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(f,j.key,j)}return function(f,g,h){return g&&e(f.prototype,g),h&&e(f,h),f}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _classCallCheck(e,f){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}var __decorate=function(e,f,g,h){var m,j=arguments.length,l=3>j?f:null===h?h=Object.getOwnPropertyDescriptor(f,g):h;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,f,g,h);else for(var n=e.length-1;0<=n;n--)(m=e[n])&&(l=(3>j?m(l):3<j?m(f,g,l):m(f,g))||l);return 3<j&&l&&Object.defineProperty(f,g,l),l},__metadata=function(e,f){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,f)},core_1=require("@angular/core"),platform_browser_1=require("@angular/platform-browser");require("errisy-string");var util=require("errisy-util"),DateTimePipe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){var h=new Date(g);return h.getFullYear()+"-"+(h.getMonth()+1+"").padLeft(2,"0")+"-"+(h.getDate()+"").padLeft(2,"0")+" "+(h.getHours()+"").padLeft(2,"0")+":"+(h.getMinutes()+"").padLeft(2,"0")}}]),e}();DateTimePipe=__decorate([core_1.Pipe({name:"datetime12"}),__metadata("design:paramtypes",[])],DateTimePipe),exports.DateTimePipe=DateTimePipe;var WeekdayPipe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){var h=new Date(g);return util.dayOfWeek(h.getDay())}}]),e}();WeekdayPipe=__decorate([core_1.Pipe({name:"weekday"}),__metadata("design:paramtypes",[])],WeekdayPipe),exports.WeekdayPipe=WeekdayPipe;var ArrayFilterPipe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g,h,j){if(!g||!Array.isArray(g))return[];if(!j)return g;var l=j.split(/\s+/).filter(function(m){return 0<m.length}).map(function(m){return new RegExp(m,"ig")});return g.filter(function(m){if(!m[h])return!1;var n=m[h];return l.some(function(o){return o.lastIndex=void 0,o.test(n)})})}}]),e}();ArrayFilterPipe=__decorate([core_1.Pipe({name:"filter"}),__metadata("design:paramtypes",[])],ArrayFilterPipe),exports.ArrayFilterPipe=ArrayFilterPipe;var WidthFilterPipe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){if(!Array.isArray(g))return"";var h=g.sort(function(j,l){return Math.sign(l.value-j.value)}).find(function(j){return window.innerWidth>=j.value});return h?h.name:""}}]),e}();WidthFilterPipe=__decorate([core_1.Pipe({name:"windowwidth",pure:!1}),__metadata("design:paramtypes",[])],WidthFilterPipe),exports.WidthFilterPipe=WidthFilterPipe;var InArray=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g,h){return!!Array.isArray(h)&&h.some(function(j){return j==g})}}]),e}();InArray=__decorate([core_1.Pipe({name:"in",pure:!1}),__metadata("design:paramtypes",[])],InArray),exports.InArray=InArray;var NotInArray=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g,h){return!!Array.isArray(h)&&h.every(function(j){return j!=g})}}]),e}();NotInArray=__decorate([core_1.Pipe({name:"nin",pure:!1}),__metadata("design:paramtypes",[])],NotInArray),exports.NotInArray=NotInArray;var FormatAddress=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){if(!g)return"Unknow Adress";var h=[];return g.BuildingDetail&&h.push(g.BuildingDetail),g.StreetNumber&&g.Street?h.push(g.StreetNumber+" "+g.Street):g.StreetNumber?h.push(g.StreetNumber):g.Street&&h.push(g.Street),g.Suburb&&h.push(g.Suburb),g.State&&g.Postcode?h.push(g.State+" "+g.Postcode):g.State?h.push(g.State):g.Postcode&&h.push(g.Postcode),h.join(", ")}}]),e}();FormatAddress=__decorate([core_1.Pipe({name:"address"}),__metadata("design:paramtypes",[])],FormatAddress),exports.FormatAddress=FormatAddress;var StringsJoin=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){return Array.isArray(g)?g.join(", "):""}}]),e}();StringsJoin=__decorate([core_1.Pipe({name:"join"}),__metadata("design:paramtypes",[])],StringsJoin),exports.StringsJoin=StringsJoin;var SMSFilter=function(){function e(f){_classCallCheck(this,e),this.domSanitizer=f}return _createClass(e,[{key:"transform",value:function(g){return g?this.domSanitizer.bypassSecurityTrustUrl("sms:"+g):""}}]),e}();SMSFilter=__decorate([core_1.Pipe({name:"sms"}),__metadata("design:paramtypes",[platform_browser_1.DomSanitizer])],SMSFilter),exports.SMSFilter=SMSFilter;var BackgroundImageFilter=function(){function e(f){_classCallCheck(this,e),this.domSanitizer=f}return _createClass(e,[{key:"transform",value:function(g){return g?this.domSanitizer.bypassSecurityTrustStyle("url(\""+g+"\""):""}}]),e}();BackgroundImageFilter=__decorate([core_1.Pipe({name:"backgroundimage"}),__metadata("design:paramtypes",[platform_browser_1.DomSanitizer])],BackgroundImageFilter),exports.BackgroundImageFilter=BackgroundImageFilter;var EachMemberFilter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){if(!g||"object"!=("undefined"==typeof g?"undefined":_typeof(g)))return[];var h=[];for(var j in g)h.push(g[j]);return h}}]),e}();EachMemberFilter=__decorate([core_1.Pipe({name:"each",pure:!0}),__metadata("design:paramtypes",[])],EachMemberFilter),exports.EachMemberFilter=EachMemberFilter;var RealEstatePriceFilter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){switch(g.PriceStrategy){case"Exact Price":return"$"+g.Price;case"Plus":return"$"+g.Price+" Plus";case"Offers Over":return"Offers over $"+g.Price;case"POA":return"POA";case"Submit Your Offer":return"Submit Your Offer";case"Auction":return"Auction on "+g.AuctionDate;default:return"Negotiation";}}}]),e}();RealEstatePriceFilter=__decorate([core_1.Pipe({name:"realestateprice"}),__metadata("design:paramtypes",[])],RealEstatePriceFilter),exports.RealEstatePriceFilter=RealEstatePriceFilter;var PrivateSharedFilter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g){return"Private"===g?"P":"Shared"===g?"S":void 0}}]),e}();PrivateSharedFilter=__decorate([core_1.Pipe({name:"privateshared"}),__metadata("design:paramtypes",[])],PrivateSharedFilter),exports.PrivateSharedFilter=PrivateSharedFilter;var SKUtil=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"findHoursForToday",value:function(g,h){var j=util.date(),l=util.weekday();return e.findHoursForDay(j,l,g,h)}},{key:"findHoursForDay",value:function(g,h,j,l){var m=j&&j.find(function(n){return n.Day==g});return m?{Day:g,Weekday:h,Closed:!Array.isArray(m.OpeningHour)||0==m.OpeningHour.length,OpeningHour:m.OpeningHour}:l?{Day:g,Weekday:h,Closed:!Array.isArray(l[h])||0==l[h].length,OpeningHour:l[h]}:{Day:g,Weekday:h,Closed:!0,OpeningHour:[]}}},{key:"find7DayHours",value:function(g,h){for(var j=[],l=0;7>l;l++){var m=util.date(l),n=util.weekday(l);j.push(e.findHoursForDay(m,n,g,h))}return j}},{key:"find15DayOpenHours",value:function(g,h){for(var j=[],l=0;15>l;l++){var m=util.date(l),n=util.weekday(l),o=e.findHoursForDay(m,n,g,h);o.Closed||j.push(o)}return j}}]),e}();exports.SKUtil=SKUtil;var InspectionHoursFilter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g,h){var j=util.date(),l=util.weekday();return"number"==typeof h?SKUtil.find15DayOpenHours(g.ScheduledInspectionHours,g.RegularInspectionHours).slice(0,h):SKUtil.find15DayOpenHours(g.ScheduledInspectionHours,g.RegularInspectionHours)}}]),e}();InspectionHoursFilter=__decorate([core_1.Pipe({name:"inspectionhours",pure:!1}),__metadata("design:paramtypes",[])],InspectionHoursFilter),exports.InspectionHoursFilter=InspectionHoursFilter;var OpeningHoursFilter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(g,h){var j=util.date(),l=util.weekday();return"number"==typeof h?SKUtil.find7DayHours(g.ScheduledHours,g.OpeningHours).slice(0,h):SKUtil.find7DayHours(g.ScheduledHours,g.OpeningHours)}}]),e}();OpeningHoursFilter=__decorate([core_1.Pipe({name:"openninghours",pure:!1}),__metadata("design:paramtypes",[])],OpeningHoursFilter),exports.OpeningHoursFilter=OpeningHoursFilter;