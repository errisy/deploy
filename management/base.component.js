"use strict";var __decorate=this&&this.__decorate||function(a,b,f,g){var l,h=arguments.length,j=3>h?b:null===g?g=Object.getOwnPropertyDescriptor(b,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(a,b,f,g);else for(var m=a.length-1;0<=m;m--)(l=a[m])&&(j=(3>h?l(j):3<h?l(b,f,j):l(b,f))||j);return 3<h&&j&&Object.defineProperty(b,f,j),j},__metadata=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},__awaiter=this&&this.__awaiter||function(a,b,f,g){return new(f||(f=Promise))(function(h,j){function l(o){try{n(g.next(o))}catch(p){j(p)}}function m(o){try{n(g["throw"](o))}catch(p){j(p)}}function n(o){o.done?h(o.value):new f(function(p){p(o.value)}).then(l,m)}n((g=g.apply(a,b)).next())})};const core_1=require("@angular/core"),errisy_ui_1=require("errisy-ui");class BaseComponent{constructor(a,b,f){this.manage=a,this.parent=b,this.changeDetectorRef=f}ngAfterContentInit(){return __awaiter(this,void 0,void 0,function*(){return(yield this.parent.checkLogin())?void(!this.checkActive()||(this.onLoad&&(yield this.onLoad()),this.changeDetectorRef.detectChanges())):void this.parent.select(0)})}onLoad(){return __awaiter(this,void 0,void 0,function*(){})}checkActive(){return __awaiter(this,void 0,void 0,function*(){try{if(this.parent.Status="Checking Verification...",yield this.manage.isAccountActive())return this.parent.Status="OK",!0;let a=this.ActivationWarningEntity;a.Warning=`You must activate mobile number before using this service, as important information such as password.`,this.View.Entity=a,this.View.Load(this.ActivationView),this.parent.Status=`You must activate mobile number before using this service, as important information such as password.`}catch(a){this.parent.Status=a;let b=this.ActivationWarningEntity;b.Warning=a,this.View.Entity=b,this.View.Load(this.WarningView)}return!1})}get ActivationWarningEntity(){return{Warning:""}}get WarningView(){return[errisy_ui_1.rows.auto(errisy_ui_1.fields.span("Warning"))]}get ActivationView(){return[errisy_ui_1.rows.auto(errisy_ui_1.fields.span("Warning")),errisy_ui_1.rows.buttons(errisy_ui_1.fields.submit("Go To Activation").event("click",this,()=>__awaiter(this,void 0,void 0,function*(){this.parent.select(1);let a=this.parent.ChildView;a.SelectTab(a.Tabs[1])})))]}}__decorate([core_1.ViewChild("view"),__metadata("design:type",errisy_ui_1.InfoTableControl)],BaseComponent.prototype,"View",void 0),exports.BaseComponent=BaseComponent;