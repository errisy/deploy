"use strict";var __extends=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Subject_1=require("rxjs/Subject"),CompleterBaseData=function(a){function c(){var e=a.call(this)||this;return e._dataField=null,e}return __extends(c,a),c.prototype.cancel=function(){},c.prototype.searchFieldss=function(e){return this._searchFields=e,this},c.prototype.titleField=function(e){return this._titleField=e,this},c.prototype.dataField=function(e){return this._dataField=e,this},c.prototype.descriptionField=function(e){return this._descriptionField=e,this},c.prototype.imageField=function(e){return this._imageField=e,this},c.prototype.extractMatches=function(e,f){var g=[];if(this._searchFields&&""!=this._searchFields&&""!=f)for(var k,h=this._searchFields.split(","),j=0;j<e.length;j++){k=!1;for(var m,l=0;l<h.length&&!k;l++)m=this.extractValue(e[j],h[l])||"",k=0<=m.toString().toLowerCase().indexOf(f.toString().toLowerCase());k&&g.push(e[j])}else g=e;return g},c.prototype.extractTitle=function(e){var f=this;return this._titleField.split(",").map(function(g){return f.extractValue(e,g)}).join(" ")},c.prototype.extractValue=function(e,f){var g,h;if(f){g=f.split("."),h=e;for(var j=0;j<g.length;j++)h&&(h=h[g[j]])}else h=e;return h},c.prototype.processResults=function(e){var f,g,h,j,k,l,m=[];if(e&&0<e.length)for(f=0;f<e.length;f++)this.titleField&&""!==this._titleField&&(j=k=this.extractTitle(e[f])),g="",this._descriptionField&&(g=l=this.extractValue(e[f],this._descriptionField)),h=null,this._imageField&&(h=this.extractValue(e[f],this._imageField)),m.push({title:k,description:l,image:h,originalObject:e[f]});return m},c}(Subject_1.Subject);exports.CompleterBaseData=CompleterBaseData;