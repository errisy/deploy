"use strict";var __extends=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},http_1=require("@angular/http");require("rxjs/add/operator/map"),require("rxjs/add/operator/catch");var completer_base_data_1=require("./completer-base-data"),RemoteData=function(a){function c(e){var f=a.call(this)||this;return f.http=e,f._urlFormater=null,f}return __extends(c,a),c.prototype.remoteUrl=function(e){return this._remoteUrl=e,this},c.prototype.urlFormater=function(e){this._urlFormater=e},c.prototype.headers=function(e){return this._headers=e,this},c.prototype.search=function(e){var f=this;this.cancel();var g="";g=this._urlFormater?this._urlFormater(e):this._remoteUrl+encodeURIComponent(e),this.remoteSearch=this.http.get(g,{headers:this._headers||new http_1.Headers}).map(function(h){return h.json()}).map(function(h){var i=f.extractValue(h,f._dataField);return f.extractMatches(i,e)}).map(function(h){var i=f.processResults(h);return f.next(i),i}).catch(function(h){return f.error(h),null}).subscribe()},c.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},c}(completer_base_data_1.CompleterBaseData);exports.RemoteData=RemoteData;