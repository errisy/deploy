"use strict";var __decorate=this&&this.__decorate||function(a,b,g,h){var m,j=arguments.length,l=3>j?b:null===h?h=Object.getOwnPropertyDescriptor(b,g):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(a,b,g,h);else for(var o=a.length-1;0<=o;o--)(m=a[o])&&(l=(3>j?m(l):3<j?m(b,g,l):m(b,g))||l);return 3<j&&l&&Object.defineProperty(b,g,l),l},__metadata=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},__awaiter=this&&this.__awaiter||function(a,b,g,h){return new(g||(g=Promise))(function(j,l){function m(q){try{p(h.next(q))}catch(s){l(s)}}function o(q){try{p(h["throw"](q))}catch(s){l(s)}}function p(q){q.done?j(q.value):new g(function(s){s(q.value)}).then(m,o)}p((h=h.apply(a,b)).next())})},__generator=this&&this.__generator||function(a,b){function g(p){return function(q){return h([p,q])}}function h(p){if(l)throw new TypeError("Generator is already executing.");for(;j;)try{if(l=1,m&&(o=m[2&p[0]?"return":p[0]?"throw":"next"])&&!(o=o.call(m,p[1])).done)return o;switch((m=0,o)&&(p=[0,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return j.label++,{value:p[1],done:!1};case 5:j.label++,m=p[1],p=[0];continue;case 7:p=j.ops.pop(),j.trys.pop();continue;default:if((o=j.trys,!(o=0<o.length&&o[o.length-1]))&&(6===p[0]||2===p[0])){j=0;continue}if(3===p[0]&&(!o||p[1]>o[0]&&p[1]<o[3])){j.label=p[1];break}if(6===p[0]&&j.label<o[1]){j.label=o[1],o=p;break}if(o&&j.label<o[2]){j.label=o[2],j.ops.push(p);break}o[2]&&j.ops.pop(),j.trys.pop();continue;}p=b.call(a,j)}catch(q){p=[6,q],m=0}finally{l=o=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}var l,m,o,j={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return{next:g(0),"throw":g(1),"return":g(2)}},core_1=require("@angular/core"),index_1=require("./index"),TabViewComponent=function(){function a(b){this.changeDetectorRef=b}return a.prototype.ngAfterContentInit=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.tabs&&0<this.tabs.length&&this.SelectTab(this.tabs[0]),[2]})})},Object.defineProperty(a.prototype,"Tabs",{get:function(){return this.tabs},set:function(b){this.tabs=b,this.tabs&&0<this.tabs.length?this.SelectTab(this.tabs[0]):this.SelectTab(void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"Entity",{get:function(){return this.InfoTable?this.InfoTable.Entity:void 0},set:function(b){this.InfoTable&&(this.InfoTable.Entity=b)},enumerable:!0,configurable:!0}),a.prototype.OnEntityChange=function(b){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return this.EntityChange?[4,this.EntityChange(b)]:[3,2];case 1:g.sent(),g.label=2;case 2:return[2];}})})},a.prototype.SelectTab=function(b){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(g){switch(g.label){case 0:return(this.SelectedTab=b,!this.SelectedTab)?[3,3]:(this.InfoTable.Load(this.SelectedTab.View),this.EntityChange=this.SelectedTab.ItemSelected,this.SelectedTab.Setup?[4,this.SelectedTab.Setup()]:[3,2]);case 1:g.sent(),g.label=2;case 2:return[3,4];case 3:this.InfoTable.Load([]),g.label=4;case 4:return[2];}})})},a}();__decorate([core_1.Input(),__metadata("design:type",Array),__metadata("design:paramtypes",[Array])],TabViewComponent.prototype,"Tabs",null),__decorate([core_1.ViewChild("view"),__metadata("design:type",index_1.InfoTableControl)],TabViewComponent.prototype,"InfoTable",void 0),TabViewComponent=__decorate([core_1.Component({selector:"[Tabs]",template:"\n<!--tabs-->\n<div class=\"flex-row-stretch flex-fit tab\">\n    <div *ngFor=\"let tab of Tabs\" [class.selected]=\"SelectedTab==tab\" (click)=\"SelectTab(tab)\">{{tab.Title}}</div>\n</div>\n<!--info-table-->\n<div class=\"flex-column-center flex-stretch flex-start\">\n    <div info-table #view>\n    </div>\n</div>\n"}),__metadata("design:paramtypes",[core_1.ChangeDetectorRef])],TabViewComponent),exports.TabViewComponent=TabViewComponent;