'use strict';var __extends=this&&this.__extends||function(a,c){function f(){this.constructor=a}for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);a.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)},Observable_1=require('../Observable'),Subscription_1=require('../Subscription'),FromEventPatternObservable=function(a){function c(f,g,h){a.call(this),this.addHandler=f,this.removeHandler=g,this.selector=h}return __extends(c,a),c.create=function(f,g,h){return new c(f,g,h)},c.prototype._subscribe=function(f){var g=this,h=this.removeHandler,i=this.selector?function(){for(var j=[],k=0;k<arguments.length;k++)j[k-0]=arguments[k];g._callSelector(f,j)}:function(j){f.next(j)};this._callAddHandler(i,f),f.add(new Subscription_1.Subscription(function(){h(i)}))},c.prototype._callSelector=function(f,g){try{var h=this.selector.apply(this,g);f.next(h)}catch(i){f.error(i)}},c.prototype._callAddHandler=function(f,g){try{this.addHandler(f)}catch(h){g.error(h)}},c}(Observable_1.Observable);exports.FromEventPatternObservable=FromEventPatternObservable;