"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Observable_1=require("rxjs/Observable"),isScheduler_1=require("rxjs/util/isScheduler"),selfSelector=function(c){return c},GenerateObservable=function(a){function c(e,f,g,h,i){a.call(this),this.initialState=e,this.condition=f,this.iterate=g,this.resultSelector=h,this.scheduler=i}return __extends(c,a),c.create=function(e,f,g,h,i){return 1==arguments.length?new c(e.initialState,e.condition,e.iterate,e.resultSelector||selfSelector,e.scheduler):void 0===h||isScheduler_1.isScheduler(h)?new c(e,f,g,selfSelector,h):new c(e,f,g,h,i)},c.prototype._subscribe=function(e){var f=this.initialState;if(this.scheduler)return this.scheduler.schedule(c.dispatch,0,{subscriber:e,iterate:this.iterate,condition:this.condition,resultSelector:this.resultSelector,state:f});var g=this,h=g.condition,i=g.resultSelector,j=g.iterate;do{if(h){var k=void 0;try{k=h(f)}catch(m){return void e.error(m)}if(!k){e.complete();break}}var l=void 0;try{l=i(f)}catch(m){return void e.error(m)}if(e.next(l),e.closed)break;try{f=j(f)}catch(m){return void e.error(m)}}while(!0)},c.dispatch=function(e){var f=e.subscriber,g=e.condition;if(!f.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(j){return void f.error(j)}else e.needIterate=!0;if(g){var h;try{h=g(e.state)}catch(j){return void f.error(j)}if(!h)return void f.complete();if(f.closed)return}var i;try{i=e.resultSelector(e.state)}catch(j){return void f.error(j)}if(!f.closed)return f.next(i),f.closed?void 0:this.schedule(e)}},c}(Observable_1.Observable);exports.GenerateObservable=GenerateObservable;