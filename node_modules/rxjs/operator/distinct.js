"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},OuterSubscriber_1=require("rxjs/OuterSubscriber"),subscribeToResult_1=require("rxjs/util/subscribeToResult");function distinct(a,c){return this.lift(new DistinctOperator(a,c))}exports.distinct=distinct;var DistinctOperator=function(){function a(c,e){this.compare=c,this.flushes=e}return a.prototype.call=function(c,e){return e._subscribe(new DistinctSubscriber(c,this.compare,this.flushes))},a}(),DistinctSubscriber=function(a){function c(e,f,g){a.call(this,e),this.values=[],"function"==typeof f&&(this.compare=f),g&&this.add(subscribeToResult_1.subscribeToResult(this,g))}return __extends(c,a),c.prototype.notifyNext=function(){this.values.length=0},c.prototype.notifyError=function(e){this._error(e)},c.prototype._next=function(e){var f=!1,g=this.values,h=g.length;try{for(var j=0;j<h;j++)if(this.compare(g[j],e))return void(f=!0)}catch(k){return void this.destination.error(k)}this.values.push(e),this.destination.next(e)},c.prototype.compare=function(e,f){return e===f},c}(OuterSubscriber_1.OuterSubscriber);exports.DistinctSubscriber=DistinctSubscriber;