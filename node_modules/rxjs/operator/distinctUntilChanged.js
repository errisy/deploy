'use strict';var __extends=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Subscriber_1=require('../Subscriber'),tryCatch_1=require('../util/tryCatch'),errorObject_1=require('../util/errorObject');function distinctUntilChanged(a,c){return this.lift(new DistinctUntilChangedOperator(a,c))}exports.distinctUntilChanged=distinctUntilChanged;var DistinctUntilChangedOperator=function(){function a(c,e){this.compare=c,this.keySelector=e}return a.prototype.call=function(c,e){return e._subscribe(new DistinctUntilChangedSubscriber(c,this.compare,this.keySelector))},a}(),DistinctUntilChangedSubscriber=function(a){function c(e,f,g){a.call(this,e),this.keySelector=g,this.hasKey=!1,'function'==typeof f&&(this.compare=f)}return __extends(c,a),c.prototype.compare=function(e,f){return e===f},c.prototype._next=function(e){var f=this.keySelector,g=e;if(f&&(g=tryCatch_1.tryCatch(this.keySelector)(e),g===errorObject_1.errorObject))return this.destination.error(errorObject_1.errorObject.e);var h=!1;if(!this.hasKey)this.hasKey=!0;else if(h=tryCatch_1.tryCatch(this.compare)(this.key,g),h===errorObject_1.errorObject)return this.destination.error(errorObject_1.errorObject.e);!1===!!h&&(this.key=g,this.destination.next(e))},c}(Subscriber_1.Subscriber);