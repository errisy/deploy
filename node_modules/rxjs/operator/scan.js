"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Subscriber_1=require("rxjs/Subscriber");function scan(a,c){return this.lift(new ScanOperator(a,c))}exports.scan=scan;var ScanOperator=function(){function a(c,e){this.accumulator=c,this.seed=e}return a.prototype.call=function(c,e){return e._subscribe(new ScanSubscriber(c,this.accumulator,this.seed))},a}(),ScanSubscriber=function(a){function c(e,f,g){a.call(this,e),this.accumulator=f,this.index=0,this.accumulatorSet=!1,this.seed=g,this.accumulatorSet="undefined"!=typeof g}return __extends(c,a),Object.defineProperty(c.prototype,"seed",{get:function(){return this._seed},set:function(f){this.accumulatorSet=!0,this._seed=f},enumerable:!0,configurable:!0}),c.prototype._next=function(e){return this.accumulatorSet?this._tryNext(e):void(this.seed=e,this.destination.next(e))},c.prototype._tryNext=function(e){var g,f=this.index++;try{g=this.accumulator(this.seed,e,f)}catch(h){this.destination.error(h)}this.seed=g,this.destination.next(g)},c}(Subscriber_1.Subscriber);