"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Subject_1=require("rxjs/Subject"),OuterSubscriber_1=require("rxjs/OuterSubscriber"),subscribeToResult_1=require("rxjs/util/subscribeToResult");function window(a){return this.lift(new WindowOperator(a))}exports.window=window;var WindowOperator=function(){function a(c){this.windowBoundaries=c}return a.prototype.call=function(c,e){var f=new WindowSubscriber(c),g=e._subscribe(f);return g.closed||f.add(subscribeToResult_1.subscribeToResult(f,this.windowBoundaries)),g},a}(),WindowSubscriber=function(a){function c(e){a.call(this,e),this.window=new Subject_1.Subject,e.next(this.window)}return __extends(c,a),c.prototype.notifyNext=function(){this.openWindow()},c.prototype.notifyError=function(e){this._error(e)},c.prototype.notifyComplete=function(){this._complete()},c.prototype._next=function(e){this.window.next(e)},c.prototype._error=function(e){this.window.error(e),this.destination.error(e)},c.prototype._complete=function(){this.window.complete(),this.destination.complete()},c.prototype._unsubscribe=function(){this.window=null},c.prototype.openWindow=function(){var e=this.window;e&&e.complete();var f=this.destination,g=this.window=new Subject_1.Subject;f.next(g)},c}(OuterSubscriber_1.OuterSubscriber);