"use strict";var __extends=function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},OuterSubscriber_1=require("rxjs/OuterSubscriber"),subscribeToResult_1=require("rxjs/util/subscribeToResult");function withLatestFrom(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var e;"function"==typeof a[a.length-1]&&(e=a.pop());return this.lift(new WithLatestFromOperator(a,e))}exports.withLatestFrom=withLatestFrom;var WithLatestFromOperator=function(){function a(c,e){this.observables=c,this.project=e}return a.prototype.call=function(c,e){return e._subscribe(new WithLatestFromSubscriber(c,this.observables,this.project))},a}(),WithLatestFromSubscriber=function(a){function c(e,f,g){a.call(this,e),this.observables=f,this.project=g,this.toRespond=[];var h=f.length;this.values=Array(h);for(var j=0;j<h;j++)this.toRespond.push(j);for(var k,j=0;j<h;j++)k=f[j],this.add(subscribeToResult_1.subscribeToResult(this,k,k,j))}return __extends(c,a),c.prototype.notifyNext=function(e,f,g){this.values[g]=f;var k=this.toRespond;if(0<k.length){var l=k.indexOf(g);-1!==l&&k.splice(l,1)}},c.prototype.notifyComplete=function(){},c.prototype._next=function(e){if(0===this.toRespond.length){var f=[e].concat(this.values);this.project?this._tryProject(f):this.destination.next(f)}},c.prototype._tryProject=function(e){var f;try{f=this.project.apply(this,e)}catch(g){return void this.destination.error(g)}this.destination.next(f)},c}(OuterSubscriber_1.OuterSubscriber);