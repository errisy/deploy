"use strict";var __extends=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},Scheduler_1=require("../Scheduler"),AsyncScheduler=function(a){function c(){a.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return __extends(c,a),c.prototype.flush=function(e){var f=this.actions;if(this.active)return void f.push(e);var g;this.active=!0;do if(g=e.execute(e.state,e.delay))break;while(e=f.shift());if(this.active=!1,g){for(;e=f.shift();)e.unsubscribe();throw g}},c}(Scheduler_1.Scheduler);exports.AsyncScheduler=AsyncScheduler;