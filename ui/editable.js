"use strict";var _createClass=function(){function a(e,f){for(var h,g=0;g<f.length;g++)h=f[g],h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(e,h.key,h)}return function(e,f,g){return f&&a(e.prototype,f),g&&a(e,g),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}var __decorate=function(a,e,f,g){var l,h=arguments.length,j=3>h?e:null===g?g=Object.getOwnPropertyDescriptor(e,f):g;if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.decorate)j=Reflect.decorate(a,e,f,g);else for(var m=a.length-1;0<=m;m--)(l=a[m])&&(j=(3>h?l(j):3<h?l(e,f,j):l(e,f))||j);return 3<h&&j&&Object.defineProperty(e,f,j),j},__metadata=function(a,e){if("object"===("undefined"==typeof Reflect?"undefined":_typeof(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,e)},core_1=require("@angular/core"),util=require("errisy-util"),EditableModel=function(){function a(e){_classCallCheck(this,a),this.elementRef=e,this.editableChange=new core_1.EventEmitter,this.span=this.elementRef.nativeElement,this.span.setAttribute("contenteditable","true")}return _createClass(a,[{key:"onKeyup",value:function(){var f=this.span.innerHTML;this.value=util.unescapeHTML(f),this.editableChange.emit(this.value)}},{key:"editable",get:function(){return this.value},set:function(f){if(this.value!=f){this.value=f,this.span.innerHTML=util.escapeHTML(this.value);document}}}]),a}();__decorate([core_1.Output(),__metadata("design:type",Object)],EditableModel.prototype,"editableChange",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[])],EditableModel.prototype,"editable",null),__decorate([core_1.HostListener("keyup"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],EditableModel.prototype,"onKeyup",null),EditableModel=__decorate([core_1.Directive({selector:"[editable]"}),__metadata("design:paramtypes",[core_1.ElementRef])],EditableModel),exports.EditableModel=EditableModel;