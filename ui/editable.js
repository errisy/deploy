"use strict";var __decorate=this&&this.__decorate||function(a,e,f,g){var l,h=arguments.length,j=3>h?e:null===g?g=Object.getOwnPropertyDescriptor(e,f):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(a,e,f,g);else for(var m=a.length-1;0<=m;m--)(l=a[m])&&(j=(3>h?l(j):3<h?l(e,f,j):l(e,f))||j);return 3<h&&j&&Object.defineProperty(e,f,j),j},__metadata=this&&this.__metadata||function(a,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,e)};const core_1=require("@angular/core"),util=require("errisy-util");let EditableModel=class{constructor(e){this.elementRef=e,this.editableChange=new core_1.EventEmitter,this.span=this.elementRef.nativeElement,this.span.setAttribute("contenteditable","true")}get editable(){return this.value}set editable(e){if(this.value!=e){this.value=e,this.span.innerHTML=util.escapeHTML(this.value);document}}onKeyup(){let e=this.span.innerHTML;this.value=util.unescapeHTML(e),this.editableChange.emit(this.value)}};__decorate([core_1.Output(),__metadata("design:type",Object)],EditableModel.prototype,"editableChange",void 0),__decorate([core_1.Input(),__metadata("design:type",Object),__metadata("design:paramtypes",[])],EditableModel.prototype,"editable",null),__decorate([core_1.HostListener("keyup"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],EditableModel.prototype,"onKeyup",null),EditableModel=__decorate([core_1.Directive({selector:"[editable]"}),__metadata("design:paramtypes",[core_1.ElementRef])],EditableModel),exports.EditableModel=EditableModel;